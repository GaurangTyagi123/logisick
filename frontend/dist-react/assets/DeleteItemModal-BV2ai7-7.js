import{a as x,y as m,r as p,u as f,j as e}from"./index-DGdq0UJg.js";import{C as j}from"./Close-B_kHsTBg.js";import{M as h}from"./Modal-DKjyBxId.js";import{u as v,B as n,S as o}from"./button-BJYD--B9.js";import{C,a as g,d as I,b as y,c as N}from"./card-DED02hlv.js";import{I as b}from"./input-BQR0Vhqq.js";import{L as S}from"./label-DsFwhH02.js";import{f as E}from"./apiItem-sv9YjtW1.js";import"./separator-DZ5S64f-.js";function F(){const r=x(),{mutate:a,isPending:s}=v({mutationFn:E,onSuccess:()=>{r.invalidateQueries({predicate:t=>["items","items-report"].includes(t.queryKey[0]?.toString()||"")}),m.success("Item deleted successfully",{className:"toast"})},onError:t=>{m.error(t.message,{className:"toast"})}});return{deleteItemFn:a,isDeletingItem:s}}function Q({open:r,setOpen:a,itemData:s}){const[t,i]=p.useState(""),l=f(),{deleteItemFn:c,isDeletingItem:d}=F();return e.jsx(h,{openModal:r,children:e.jsxs(C,{className:"w-md max-w-11/12",children:[e.jsxs(g,{className:"flex justify-between items-center",children:[e.jsx(I,{children:"Remove Item"}),e.jsx(n,{onClick:()=>a(!1),variant:"secondary",children:e.jsx(j,{})})]}),e.jsxs(y,{className:"grid gap-4",children:[e.jsxs(o,{children:["Item's Name : ",s.name]}),e.jsxs(o,{children:["Item's SKU : ",s.SKU?.substring(25)]}),e.jsxs(S,{title:"remove item",htmlFor:"removeitem",className:"grid",children:[e.jsxs("span",{children:['Enter "',e.jsxs("span",{className:"text-red-500",children:["remove ",s.name]}),'" in the input below to remove item']}),e.jsx(b,{placeholder:"Enter Text",type:"text",value:t,name:"name",required:!0,className:"text-sm md:text-md",onChange:u=>i(u.target.value)})]})]}),e.jsxs(N,{className:"flex gap-2",children:[e.jsx(n,{onClick:()=>a(!1),variant:"secondary",children:"Cancel"}),e.jsx(n,{type:"button",onClick:()=>{c(s._id),a(!1),i(""),l(-1)},disabled:d||t.trim()!==`remove ${s.name}`,variant:"destructive",children:"Remove Item"})]})]})})}export{Q as default};
