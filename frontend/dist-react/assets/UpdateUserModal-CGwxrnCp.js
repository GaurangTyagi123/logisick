import{r as s,j as e,y as h}from"./index-H5JN5wYo.js";import{M as j}from"./Modal-DKz5Ep2_.js";import{B as l}from"./button-BKGA3V9u.js";import{C as N,a as g,d as C,b as U,c as v}from"./card-gZVURdSA.js";import{C as E}from"./Close-DYe8Ue7o.js";import{L as n}from"./label-38rcBngi.js";import{I as o}from"./input-3C9xSQ2x.js";import{u as F}from"./useUpdateUser-Cz_iSVp4.js";import"./Typography-B3Ue9uXG.js";import"./separator-BvH7fElG.js";import"./apiUser-DCbsfR6X.js";function I({open:d,setOpen:u}){const{updateUserFn:c,isUpdatingUser:p}=F(),[t,i]=s.useState({name:"",email:""}),[r,m]=s.useState({email:!0});function x(a){m({...r,email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)})}function f(){t.name.trim()==""&&t.email.trim()==""&&h.error("Atleast one field is required",{className:"toast"});const a={};t.email.trim()!==""&&r.email&&(a.email=t.email.trim()),t.name.trim()!==""&&(a.name=t.name.trim()),c(a),i({name:"",email:""})}return e.jsx(j,{openModal:d,children:e.jsxs(N,{className:"w-md max-w-11/12",children:[e.jsxs(g,{className:"flex justify-between items-center",children:[e.jsx(C,{children:"Update User"}),e.jsx(l,{onClick:()=>u(!1),variant:"secondary",children:e.jsx(E,{})})]}),e.jsxs(U,{className:"grid gap-2",children:[e.jsxs(n,{title:"Full Name field is required",htmlFor:"name",className:"grid",children:["Full Name",e.jsx(o,{placeholder:"Enter Your Full Name",type:"text",value:t.name,name:"name",required:!0,className:"text-sm md:text-md",onChange:a=>{i({...t,name:a.target.value})}})]}),e.jsxs(n,{title:"Email field is required",htmlFor:"email",className:"grid",children:["Email",e.jsx(o,{placeholder:"Enter Your Email",type:"email",value:t.email,name:"email",required:!0,className:"text-sm md:text-md",onChange:a=>{i({...t,email:a.target.value.trim()}),a.target.value.trim()!=""?x(a.target.value.trim()):m({...r,email:!0})}}),!r.email&&e.jsx("span",{className:"text-xs text-red-500",children:"*Not a valid Email"})]})]}),e.jsx(v,{children:e.jsx(l,{className:"w-full",type:"submit",onClick:f,disabled:p,children:"Update User"})})]})})}export{I as default};
