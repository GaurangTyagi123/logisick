import{c as x,y as i,r as p,u as f,j as e}from"./index-D0_Sot9h.js";import{C as j}from"./Close-5X7b8tAm.js";import{M as h}from"./Modal-DMArze6l.js";import{u as v,B as n}from"./button-BTAYK3jx.js";import{C,a as g,d as I,b as y,c as N}from"./card-uaHBxQ7j.js";import{I as b}from"./input-CUKpUeOa.js";import{L as S}from"./label-D-KNEtrA.js";import{S as o}from"./Typography-BkeLtctd.js";import{f as E}from"./apiItem-BA08D8KX.js";import"./separator-Cmc26UhN.js";function F(){const a=x(),{mutate:r,isPending:s}=v({mutationFn:E,onSuccess:()=>{a.invalidateQueries({predicate:t=>["item","items","items-report"].includes(t.queryKey[0]?.toString()||"")}),i.success("Item deleted successfully",{className:"toast"})},onError:t=>{i.error(t.message,{className:"toast"})}});return{deleteItemFn:r,isDeletingItem:s}}function U({open:a,setOpen:r,itemData:s}){const[t,m]=p.useState(""),l=f(),{deleteItemFn:c,isDeletingItem:d}=F();return e.jsx(h,{openModal:a,children:e.jsxs(C,{className:"w-md max-w-11/12",children:[e.jsxs(g,{className:"flex justify-between items-center",children:[e.jsx(I,{children:"Remove Item"}),e.jsx(n,{onClick:()=>r(!1),variant:"secondary",children:e.jsx(j,{})})]}),e.jsxs(y,{className:"grid gap-4",children:[e.jsxs(o,{children:["Item's Name : ",s.name]}),e.jsxs(o,{children:["Item's SKU : ",s.SKU?.substring(25)]}),e.jsxs(S,{title:"remove item",htmlFor:"removeitem",className:"grid",children:[e.jsxs("span",{children:['Enter "',e.jsxs("span",{className:"text-red-500",children:["remove ",s.name]}),'" in the input below to remove item']}),e.jsx(b,{placeholder:"Enter Text",type:"text",value:t,name:"name",required:!0,className:"text-sm md:text-md",onChange:u=>m(u.target.value)})]})]}),e.jsxs(N,{className:"flex gap-2",children:[e.jsx(n,{onClick:()=>r(!1),variant:"secondary",children:"Cancel"}),e.jsx(n,{type:"button",onClick:()=>{c(s._id),r(!1),m(""),l(-1)},disabled:d||t.trim()!==`remove ${s.name}`,variant:"destructive",children:"Remove Item"})]})]})})}export{U as default};
