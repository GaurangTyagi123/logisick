import{r as x,c as f,y as n,j as e}from"./index-D0_Sot9h.js";import{M as p}from"./Modal-DMArze6l.js";import{C as g,a as y,d as h,b as j,c as C}from"./card-uaHBxQ7j.js";import{u as N,B as i}from"./button-BTAYK3jx.js";import{C as v}from"./Close-5X7b8tAm.js";import{I as z}from"./input-CUKpUeOa.js";import{L as M}from"./label-D-KNEtrA.js";import{d as b}from"./apiOrg-BN6cYbtf.js";import"./Typography-BkeLtctd.js";import"./separator-Cmc26UhN.js";function K({open:o,setOpen:t,orgId:a}){const[s,c]=x.useState(""),l=f(),{mutate:d,isPending:m}=N({mutationFn:b,onSuccess:()=>{l.invalidateQueries({queryKey:["user"]}),l.invalidateQueries({queryKey:["orgs"]}),n.success("Organization deleted successfully",{className:"toast"})},onError:r=>{n.error(r.message,{className:"toast"})}});async function u(){console.log("Org id",a),s.trim()=="delete my organization"&&a?(d(a),t(!1)):n.error("Enter the text first",{className:"toast"})}return e.jsx(p,{openModal:o,children:e.jsxs(g,{className:"w-md max-w-11/12",children:[e.jsxs(y,{className:"flex justify-between items-center",children:[e.jsx(h,{children:"Delete My Organization"}),e.jsx(i,{onClick:()=>t(!1),variant:"secondary",children:e.jsx(v,{})})]}),e.jsx(j,{className:"grid gap-2",children:e.jsxs(M,{title:"delete my account",htmlFor:"deleteme",className:"grid",children:[e.jsxs("span",{children:['Enter "',e.jsx("span",{className:"text-red-500",children:"delete my organization"}),'" in the input below to delete organization']}),e.jsx(z,{placeholder:"Enter Text",type:"text",value:s,name:"org text",required:!0,className:"text-sm md:text-md",onChange:r=>c(r.target.value)})]})}),e.jsxs(C,{className:"flex flex-wrap gap-2 w-full",children:[e.jsx(i,{onClick:()=>t(!1),variant:"secondary",children:"Cancel"}),e.jsx(i,{type:"button",onClick:u,disabled:m||s.trim()!=="delete my organization",variant:"destructive",children:"Delete My Organization"})]})]})})}export{K as default};
