import{a as x,j as e,y as p}from"./index-wf-tjCCz.js";import{C}from"./Close-CF-osNUi.js";import{M as g}from"./Modal-iqcfqeyR.js";import{B as s}from"./button-EG1lfJG5.js";import{C as j,a as N,d as v,b as y,c as b}from"./card-D-GtwW-r.js";import{U as w}from"./UserAvatar-DyHkQFew.js";import{I as U}from"./input-DktSRuev.js";import{b as M}from"./Profilepage-C6eZmcBL.js";import{u as P}from"./useUpdateUser-BEuvY9MK.js";import{L as S}from"./label-ByPLIqZS.js";import"./apiUser-DfjZS0zR.js";import"./separator-CrRW6nuX.js";function A({open:i,setModalPic:t,modalPic:a,setOpen:l}){const c=x().getQueryData(["user"])?.user,{updateUserFn:m,isUpdatingUser:d}=P();function f(r){const h="abcdefghijklmnopqrstuvwxyzBCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let o="";for(let n=0;n<r;n++)o+=h[Math.floor(Math.random()*62)];t(o)}function u(){a.length>0&&a!==c?.avatar?(m({avatar:a}),l(!1)):p.error("Changed avatar can't be same or empty",{className:"toast"})}return e.jsx(g,{openModal:i,children:e.jsxs(j,{className:"w-md max-w-11/12",children:[e.jsxs(N,{className:"flex justify-between items-center",children:[e.jsx(v,{children:"Change Profile Picture"}),e.jsx(s,{onClick:()=>l(!1),variant:"secondary",children:e.jsx(C,{})})]}),e.jsxs(y,{className:"flex flex-col gap-2 items-center",children:[e.jsx(w,{customSeed:a,className:"w-40 h-40"}),e.jsx("div",{className:"grid w-full",children:e.jsxs(S,{title:"Profile Picture Seed",htmlFor:"name",className:"grid w-full",children:["Profile Picture Seed *",e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{type:"text",autoFocus:!0,value:a,className:"text-lg font-semibold text-center bg-accent",onChange:r=>t(r.target.value.trim())}),e.jsx(s,{className:"h-9 w-9 grid place-items-center",title:"generate random",variant:"secondary",onClick:()=>f(Math.floor(Math.random()*11)+1),children:e.jsx(M,{className:"h-9 w-9"})})]})]})})]}),e.jsx(b,{children:e.jsx(s,{className:"front-semibold w-full",onClick:u,disabled:d,children:"Seems Good!"})})]})})}export{A as default};
