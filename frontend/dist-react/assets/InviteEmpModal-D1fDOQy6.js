import{y as C,r as d,j as e}from"./index-DGdq0UJg.js";import{C as K,a as U,d as z,b as H,c as $}from"./card-DED02hlv.js";import{M as W}from"./Modal-DKjyBxId.js";import{u as X,e as N,f as w,B as S}from"./button-BJYD--B9.js";import{C as Y}from"./Close-B_kHsTBg.js";import{p as k,q as J,u as Q,d as P,r as Z,f as j,I as ee,g as E,P as re,s as ae,C as oe,L as g}from"./separator-DZ5S64f-.js";import{I as se}from"./input-BQR0Vhqq.js";import{s as te}from"./apiEmp-C0LgsLVI.js";import{u as ne}from"./index-CigmW9Sa.js";function ie(){const{mutate:a,isPending:s}=X({mutationFn:({empEmail:r,role:t})=>te(r,t),onSuccess:r=>{C.success(r?.message,{className:"toast"})},onError:r=>C.error(r.message,{className:"toast"})});return{sendInvitation:a,isSendingInvite:s}}var I="Radio",[de,_]=P(I),[ce,le]=de(I),A=d.forwardRef((a,s)=>{const{__scopeRadio:r,name:t,checked:o=!1,required:n,disabled:i,value:c="on",onCheck:m,form:f,...v}=a,[p,x]=d.useState(null),l=N(s,h=>x(h)),u=d.useRef(!1),R=p?f||!!p.closest("form"):!0;return e.jsxs(ce,{scope:r,checked:o,disabled:i,children:[e.jsx(j.button,{type:"button",role:"radio","aria-checked":o,"data-state":F(o),"data-disabled":i?"":void 0,disabled:i,value:c,...v,ref:l,onClick:E(a.onClick,h=>{o||m?.(),R&&(u.current=h.isPropagationStopped(),u.current||h.stopPropagation())})}),R&&e.jsx(D,{control:p,bubbles:!u.current,name:t,value:c,checked:o,required:n,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});A.displayName=I;var G="RadioIndicator",M=d.forwardRef((a,s)=>{const{__scopeRadio:r,forceMount:t,...o}=a,n=le(G,r);return e.jsx(re,{present:t||n.checked,children:e.jsx(j.span,{"data-state":F(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:s})})});M.displayName=G;var ue="RadioBubbleInput",D=d.forwardRef(({__scopeRadio:a,control:s,checked:r,bubbles:t=!0,...o},n)=>{const i=d.useRef(null),c=N(i,n),m=ne(r),f=ae(s);return d.useEffect(()=>{const v=i.current;if(!v)return;const p=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==r&&l){const u=new Event("click",{bubbles:t});l.call(v,r),v.dispatchEvent(u)}},[m,r,t]),e.jsx(j.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D.displayName=ue;function F(a){return a?"checked":"unchecked"}var pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b="RadioGroup",[me,Pe]=P(b,[k,_]),L=k(),q=_(),[fe,ve]=me(b),B=d.forwardRef((a,s)=>{const{__scopeRadioGroup:r,name:t,defaultValue:o,value:n,required:i=!1,disabled:c=!1,orientation:m,dir:f,loop:v=!0,onValueChange:p,...x}=a,l=L(r),u=J(f),[R,h]=Q({prop:n,defaultProp:o??null,onChange:p,caller:b});return e.jsx(fe,{scope:r,name:t,required:i,disabled:c,value:R,onValueChange:h,children:e.jsx(Z,{asChild:!0,...l,orientation:m,dir:u,loop:v,children:e.jsx(j.div,{role:"radiogroup","aria-required":i,"aria-orientation":m,"data-disabled":c?"":void 0,dir:u,...x,ref:s})})})});B.displayName=b;var O="RadioGroupItem",V=d.forwardRef((a,s)=>{const{__scopeRadioGroup:r,disabled:t,...o}=a,n=ve(O,r),i=n.disabled||t,c=L(r),m=q(r),f=d.useRef(null),v=N(s,f),p=n.value===o.value,x=d.useRef(!1);return d.useEffect(()=>{const l=R=>{pe.includes(R.key)&&(x.current=!0)},u=()=>x.current=!1;return document.addEventListener("keydown",l),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",u)}},[]),e.jsx(ee,{asChild:!0,...c,focusable:!i,active:p,children:e.jsx(A,{disabled:i,required:n.required,checked:p,...m,...o,name:n.name,ref:v,onCheck:()=>n.onValueChange(o.value),onKeyDown:E(l=>{l.key==="Enter"&&l.preventDefault()}),onFocus:E(o.onFocus,()=>{x.current&&f.current?.click()})})})});V.displayName=O;var xe="RadioGroupIndicator",T=d.forwardRef((a,s)=>{const{__scopeRadioGroup:r,...t}=a,o=q(r);return e.jsx(M,{...o,...t,ref:s})});T.displayName=xe;var Re=B,he=V,ge=T;function je({className:a,...s}){return e.jsx(Re,{"data-slot":"radio-group",className:w("grid gap-3",a),...s})}function y({className:a,...s}){return e.jsx(he,{"data-slot":"radio-group-item",className:w("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:e.jsx(ge,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(oe,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function _e({open:a,setOpen:s}){const[r,t]=d.useState({empEmail:"",role:"Staff"}),{sendInvitation:o,isSendingInvite:n}=ie();function i(){r.empEmail.trim()!==""&&["Admin","Manager","Staff"].includes(r.role.trim())?(o(r),s(!1),t({empEmail:"",role:"Staff"})):C.error("Enter the text first",{className:"toast"})}return e.jsx(W,{openModal:a,children:e.jsxs(K,{className:"w-md max-w-11/12",children:[e.jsxs(U,{className:"flex justify-between items-center",children:[e.jsx(z,{children:"Send Invite"}),e.jsx(S,{onClick:()=>s(!1),variant:"secondary",children:e.jsx(Y,{})})]}),e.jsxs(H,{className:"grid gap-3",children:[e.jsxs(g,{title:"New Employee's Email",className:"grid",children:[e.jsx("span",{children:"Employee's email"}),e.jsx(se,{placeholder:"Enter new employee's email",type:"email",value:r.empEmail,name:"empEmail",required:!0,className:"text-sm md:text-md",onChange:c=>t({...r,empEmail:c.target.value.trim()})})]}),e.jsxs(g,{title:"New Employee's role",className:"grid",children:[e.jsx("span",{children:"Enter new employee's role"}),e.jsxs(je,{defaultValue:r.role,className:"flex",onValueChange:c=>t({...r,role:c}),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{value:"Staff",id:"r1",className:"text-ls-sec-500"}),e.jsx(g,{children:"Staff"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{value:"Manager",id:"r2",className:"text-ls-sec-500"}),e.jsx(g,{children:"Manager"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{value:"Admin",id:"r3",className:"text-ls-sec-500"}),e.jsx(g,{children:"Admin"})]})]})]})]}),e.jsx($,{className:"flex gap-2",children:e.jsx(S,{type:"button",onClick:i,className:"w-full",disabled:n||r.empEmail.trim()==""||!["Admin","Manager","Staff"].includes(r.role.trim()),children:"Send Invite"})})]})})}export{_e as default};
