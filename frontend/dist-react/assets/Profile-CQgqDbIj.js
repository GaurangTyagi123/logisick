const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OtpModal-S8JfSw2C.js","assets/index-DLpN21qu.js","assets/index-B-fg42KO.css","assets/Modal-DwasNNXn.js","assets/card-CgDFFM5A.js","assets/button-DdnwTV88.js","assets/Close-CSLTv9Z2.js","assets/Profilepage-dLER-cBz.js","assets/Navbar-rbu8Ocl0.js","assets/UserAvatar-Cr1zkuZg.js","assets/dropdown-menu-Bvxii03f.js","assets/table-598c6dIx.js","assets/badge-CUW8UCuf.js","assets/useGetOrganizations-CJ50NmT0.js","assets/apiOrg-BfKVskqD.js","assets/DeleteMeModal-BRYQ7ZIn.js","assets/input-CsrT0UDB.js","assets/label-DnP0gUPp.js","assets/ChangePasswordModal-CXZI7WVu.js","assets/Authenticatepage-oFlg3uaw.js","assets/apiUser-DXdnRSui.js","assets/ProfilePicChangeModal-D4f6MamV.js","assets/useUpdateUser-BVM20hGH.js","assets/DeleteOrgModal-BSc0da6m.js","assets/EditOrgModal-Bu82Yy-Y.js","assets/index.esm-BhE4eM4D.js","assets/Select-ByxW4iog.js","assets/index-Cf8b6Gp0.js","assets/Pagination-BJLuhAD3.js","assets/TransferOwnershipModal-WaPJjDKp.js","assets/UpdateUserModal-CrdFPLWw.js"])))=>i.map(i=>d[i]);
import{o as H,h as C,y as n,p as B,j as e,L as q,c as F,u as Q,r as a,_ as o}from"./index-DLpN21qu.js";import{S as Y,a as G,E as T,T as J,D as M,V as $,H as K}from"./Profilepage-dLER-cBz.js";import{b as W,B as c,S as X,d as Z,L as ee,M as se}from"./button-DdnwTV88.js";import{N as ae}from"./Navbar-rbu8Ocl0.js";import{U as te}from"./UserAvatar-Cr1zkuZg.js";import{C as re,a as le,b as ie,c as ne}from"./card-CgDFFM5A.js";import{T as oe,a as ce,b as D,c as m,d as de,e as d}from"./table-598c6dIx.js";import{B as h}from"./badge-CUW8UCuf.js";import{u as me}from"./useGetOrganizations-CJ50NmT0.js";import{D as ue,a as xe,b as fe,c as j,s as b}from"./dropdown-menu-Bvxii03f.js";function P(s,l){if(B(s)){const r=s.response?.data?.message||l;console.log(s),n.error(r,{className:"toast"})}else console.log(s)}const pe=H(s=>({isVerifingEmail:!1,isDeleteingUser:!1,verifyEmail:async l=>{try{s({isVerifingEmail:!0});const r=await C.post("/v1/auth/verifyEmail",l);if(r.data.data.message.toLowerCase().includes("already"))return s({isVerifingEmail:!1}),n.success(r.data.data.message,{className:"toast"}),"already";if(r.data.data.message.toLowerCase().includes("sent"))return s({isVerifingEmail:!1}),n.success(r.data.data.message,{className:"toast"}),"sent";if(r.data.data.message.toLowerCase().includes("successfully"))return s({isVerifingEmail:!1}),n.success(r.data.data.message,{className:"toast"}),"verified"}catch(r){P(r,"Error verifing email")}finally{s({isVerifingEmail:!1})}},deleteUser:async()=>{try{s({isDeleteingUser:!0}),await C.delete("/v1/users/updateMe"),n.success("User deleted successfully",{className:"toast"})}catch(l){P(l,"Error deleting user")}finally{s({isDeleteingUser:!1})}}})),ge=s=>{switch(s){case"Pro":return"bg-violet-600 dark:bg-violet-500 text-primary-foreground";case"Basic":return"bg-yellow-600 dark:bg-yellow-500 text-primary-foreground";case"None":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}};function he(s){switch(s){case"Owner":return"text-black bg-yellow-400 dark:text-black dark:bg-yellow-400";case"Admin":return"text-black bg-violet-400 dark:text-black dark:bg-violet-400";case"Manager":return"text-black bg-green-400 dark:text-black dark:bg-green-400";case"Staff":return"text-white bg-zinc-800 dark:text-black dark:bg-zinc-200";default:return"text-black bg-zinc-300 outline-1 dark:text-white dark:bg-zinc-800 "}}function je({setDeleteOpen:s,setEditOpen:l,setOpenTransfer:r}){const{data:x,isPending:t}=me();return e.jsx("div",{className:"col-span-1 md:col-span-4",children:e.jsxs(re,{className:"bg-white dark:bg-ls-bg-dark-800 h-full",children:[e.jsx(le,{children:e.jsxs(ie,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Organizations"]})}),e.jsx(ne,{children:e.jsx(oe,{children:!x||t?e.jsxs("div",{className:"h-full w-full grid place-items-center gap-3",children:[e.jsx(W,{children:"You are not in any organizations."}),e.jsx(c,{asChild:!0,children:e.jsx(q,{to:"/dashboard",children:"Create/Join a Organization"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:e.jsxs(D,{children:[e.jsx(m,{children:"Organization"}),e.jsx(m,{children:"Role"}),e.jsx(m,{children:"Subscription"}),e.jsx(m,{children:"Members"}),e.jsx(m,{children:"Type"})]})}),e.jsx(de,{children:x.map(i=>e.jsxs(D,{className:"hover:bg-muted/50",children:[e.jsx(d,{className:"font-medium",children:i.name}),e.jsx(d,{children:e.jsx(h,{variant:"outline",className:F("font-medium",he("Owner")),children:i.role})}),e.jsx(d,{children:e.jsx(h,{className:ge(i.subscription),children:i.subscription})}),e.jsxs(d,{className:"text-muted-foreground",children:[i?.totalEmployees??1," ","members"]}),e.jsx(d,{children:e.jsx(h,{variant:"outline",children:i.type})}),i.role.toLowerCase()==="owner"&&e.jsx(d,{className:"w-[5px]",children:e.jsxs(ue,{children:[e.jsx(xe,{children:e.jsx(G,{className:"w-5 h-5 outline rounded-sm cursor-pointer outline-offset-2"})}),e.jsxs(fe,{className:"font-semibold bg-ls-bg-100 dark:bg-ls-bg-dark-800",children:[e.jsxs(j,{className:"cursor-pointer",onClick:()=>l(!0),children:[e.jsx(T,{}),"EDIT"]}),e.jsx(b,{}),e.jsxs(j,{className:"cursor-pointer",onClick:()=>r(!0),children:[e.jsx(J,{}),"TRANSFER"]}),e.jsx(b,{}),e.jsxs(j,{className:"cursor-pointer",onClick:()=>s(!0),children:[e.jsx(M,{className:"text-red-500"}),e.jsx(X,{className:"text-red-500",children:"DELETE"})]}),e.jsx(b,{})]})]})})]},i._id))})]})})})]})})}const be=a.lazy(()=>o(()=>import("./OtpModal-S8JfSw2C.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),we=a.lazy(()=>o(()=>import("./DeleteMeModal-BRYQ7ZIn.js"),__vite__mapDeps([15,1,2,3,4,5,6,16,17,10,7,8,9,11,12,13,14]))),ye=a.lazy(()=>o(()=>import("./ChangePasswordModal-CXZI7WVu.js"),__vite__mapDeps([18,1,2,3,5,4,6,17,10,16,19,20,8,9]))),_e=a.lazy(()=>o(()=>import("./ProfilePicChangeModal-D4f6MamV.js"),__vite__mapDeps([21,1,2,6,3,5,4,9,16,7,22,20]))),ve=a.lazy(()=>o(()=>import("./DeleteOrgModal-BSc0da6m.js"),__vite__mapDeps([23,1,2,3,4,5,6,16,17,10,14]))),Ne=a.lazy(()=>o(()=>import("./EditOrgModal-Bu82Yy-Y.js"),__vite__mapDeps([24,1,2,3,4,5,6,25,17,10,16,26,27,28,14]))),Ee=a.lazy(()=>o(()=>import("./TransferOwnershipModal-WaPJjDKp.js"),__vite__mapDeps([29,1,2,3,4,5,6,25,17,10,14,16]))),Oe=a.lazy(()=>o(()=>import("./UpdateUserModal-CrdFPLWw.js"),__vite__mapDeps([30,1,2,3,5,4,6,17,10,16,22,20])));function ke(){const{verifyEmail:s,isVerifingEmail:l}=pe(),t=Q().getQueryData(["user"])?.user,[i,w]=a.useState(!1),[S,y]=a.useState(!1),[f,p]=a.useState(!1),[V,_]=a.useState(!1),[z,v]=a.useState(!1),[L,N]=a.useState(!1),[U,E]=a.useState(!1),[A,O]=a.useState(!1),[R,g]=a.useState(""),[I,k]=a.useState(t?.avatar||"");return a.useEffect(()=>{let u;return!t?.isVerified&&!f&&!l&&(u=n.warning(e.jsxs("div",{className:"grid h-auto",children:["Your Email is not verified",e.jsx(c,{variant:"default",disabled:l,onClick:async()=>{await s({})=="sent"&&(p(!0),g("")),n.dismiss(u)},children:"Click to Verify"})]}),{className:"toast"})),()=>n.dismiss(u)},[l,t?.isVerified,s,f]),e.jsxs("div",{className:"w-full px-4 h-auto min-h-screen flex flex-col gap-2 items-center relative bg-ls-bg-200 dark:bg-ls-bg-dark-900",children:[e.jsx(ae,{}),e.jsxs("div",{className:"max-w-6xl p-4 w-full grid place-items-center md:flex gap-4 rounded-2xl shadow-2xl bg-white dark:bg-ls-bg-dark-800",children:[e.jsxs("div",{className:"w-40 h-40 grid place-items-center relative",children:[e.jsx(te,{customSeed:t?.avatar||t?.email,className:"w-40 h-40 ring-4 ring-offset-2 ring-ls-sec-500"}),e.jsx(c,{size:"sm",className:"absolute right-2 bottom-2 rounded-full",onClick:()=>{w(!0),k(t?.avatar||t?.email)},children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex gap-2 flex-row justify-center md:justify-start items-center text-ls-ter-800 dark:text-ls-ter-500",children:[e.jsx(Z,{className:"pb-0",children:t?.name}),t?.isVerified?e.jsx($,{}):e.jsx(c,{variant:"ghost",disabled:l,title:"verify your email",className:"grid place-items-center p-0",onClick:async()=>{await s({})=="sent"&&(p(!0),g(""))},children:e.jsx(K,{className:"h-full w-full"})})]}),e.jsx(ee,{className:"text-center md:text-start text-ls-sec-800 dark:text-ls-sec-400",children:t?.email})]}),e.jsxs(se,{className:"text-sm text-center md:text-start",children:["Member since :"," ",new Date(t?.createdAt??"").toDateString()]})]})]}),e.jsxs("main",{className:"max-w-6xl p-4 w-full flex flex-col-reverse md:grid md:grid-cols-5 gap-2 ",children:[e.jsx(je,{setDeleteOpen:N,setEditOpen:E,setOpenTransfer:O}),e.jsxs("div",{className:"md:min-h-96 gap-2 flex flex-wrap md:flex-nowrap md:flex-col",children:[e.jsx(c,{onClick:()=>y(!0),className:"",children:"Update User"}),e.jsx(c,{onClick:()=>_(!0),className:"",children:"Change Password"}),e.jsxs(c,{variant:"destructive",onClick:()=>v(!0),children:[e.jsx(M,{className:"h-full aspect-square"}),"Delete Me"]})]})]}),e.jsx(_e,{open:i,setOpen:w,modalPic:I,setModalPic:k}),e.jsx(be,{open:f,setOpen:p,otp:R,setOtp:g}),e.jsx(ye,{open:V,setOpen:_}),e.jsx(Ne,{setOpen:E,open:U}),e.jsx(Ee,{open:A,setOpen:O}),e.jsx(we,{open:z,setOpen:v}),e.jsx(ve,{open:L,setOpen:N,orgId:t?.myOrg?._id}),e.jsx(Oe,{open:S,setOpen:y})]})}const Re=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));export{Re as P,pe as u};
