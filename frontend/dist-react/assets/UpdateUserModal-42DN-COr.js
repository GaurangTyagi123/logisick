import{r as m,j as e,y as h}from"./index-BLDRfW-F.js";import{M as j}from"./Modal-CHT56LYw.js";import{B as l}from"./button-CL9fk4n_.js";import{C as g,a as N,b as C,c as U,d as v}from"./card-DWDsifmG.js";import{C as E}from"./Close-CQ8MziSR.js";import{L as n}from"./label-CkNh2HbT.js";import{I as d}from"./input-QCkDIciJ.js";import{u as F}from"./useUpdateUser-dyEQJ_Y1.js";import"./dropdown-menu-DVgmYM1B.js";import"./apiUser-s54BfBhN.js";function B({open:o,setOpen:u}){const{updateUserFn:c,isPending:p}=F(),[t,i]=m.useState({name:"",email:""}),[r,s]=m.useState({email:!0});function x(a){s({...r,email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)})}function f(){t.name.trim()==""&&t.email.trim()==""&&h.error("Atleast one field is required",{className:"toast"});const a={};t.email.trim()!==""&&r.email&&(a.email=t.email.trim()),t.name.trim()!==""&&(a.name=t.name.trim()),c(a),i({name:"",email:""})}return e.jsx(j,{openModal:o,children:e.jsxs(g,{className:"min-w-md",children:[e.jsxs(N,{className:"flex justify-between items-center",children:[e.jsx(C,{children:"Update User"}),e.jsx(l,{onClick:()=>u(!1),variant:"secondary",children:e.jsx(E,{})})]}),e.jsxs(U,{className:"grid gap-2",children:[e.jsxs(n,{title:"Full Name field is required",htmlFor:"name",className:"grid",children:["Full Name",e.jsx(d,{placeholder:"Enter Your Full Name",type:"text",value:t.name,name:"name",required:!0,className:"text-sm md:text-md",onChange:a=>{i({...t,name:a.target.value})}})]}),e.jsxs(n,{title:"Email field is required",htmlFor:"email",className:"grid",children:["Email",e.jsx(d,{placeholder:"Enter Your Email",type:"email",value:t.email,name:"email",required:!0,className:"text-sm md:text-md",onChange:a=>{i({...t,email:a.target.value.trim()}),a.target.value.trim()!=""?x(a.target.value.trim()):s({...r,email:!0})}}),!r.email&&e.jsx("span",{className:"text-xs text-red-500",children:"*Not a valid Email"})]})]}),e.jsx(v,{children:e.jsx(l,{className:"w-full",type:"submit",onClick:f,disabled:p,children:"Update User"})})]})})}export{B as default};
