import{r as s,j as e,y as h}from"./index-D2pWsFwA.js";import{M as j}from"./Modal-C0gzKlS3.js";import{B as l}from"./button-CHgQs-HN.js";import{C as N,a as g,b as C,c as U,d as v}from"./card-Dn0_vEQo.js";import{C as E}from"./Close-DHzJ_a41.js";import{L as n}from"./label-BT6TXPrt.js";import{I as d}from"./input-D6dxfwAL.js";import{u as F}from"./useUpdateUser-puHV37Kk.js";import"./separator-Qx3zLuA7.js";import"./apiUser-BJEy_loP.js";function B({open:o,setOpen:u}){const{updateUserFn:c,isUpdatingUser:x}=F(),[t,i]=s.useState({name:"",email:""}),[r,m]=s.useState({email:!0});function p(a){m({...r,email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)})}function f(){t.name.trim()==""&&t.email.trim()==""&&h.error("Atleast one field is required",{className:"toast"});const a={};t.email.trim()!==""&&r.email&&(a.email=t.email.trim()),t.name.trim()!==""&&(a.name=t.name.trim()),c(a),i({name:"",email:""})}return e.jsx(j,{openModal:o,children:e.jsxs(N,{className:"w-md max-w-11/12",children:[e.jsxs(g,{className:"flex justify-between items-center",children:[e.jsx(C,{children:"Update User"}),e.jsx(l,{onClick:()=>u(!1),variant:"secondary",children:e.jsx(E,{})})]}),e.jsxs(U,{className:"grid gap-2",children:[e.jsxs(n,{title:"Full Name field is required",htmlFor:"name",className:"grid",children:["Full Name",e.jsx(d,{placeholder:"Enter Your Full Name",type:"text",value:t.name,name:"name",required:!0,className:"text-sm md:text-md",onChange:a=>{i({...t,name:a.target.value})}})]}),e.jsxs(n,{title:"Email field is required",htmlFor:"email",className:"grid",children:["Email",e.jsx(d,{placeholder:"Enter Your Email",type:"email",value:t.email,name:"email",required:!0,className:"text-sm md:text-md",onChange:a=>{i({...t,email:a.target.value.trim()}),a.target.value.trim()!=""?p(a.target.value.trim()):m({...r,email:!0})}}),!r.email&&e.jsx("span",{className:"text-xs text-red-500",children:"*Not a valid Email"})]})]}),e.jsx(v,{children:e.jsx(l,{className:"w-full",type:"submit",onClick:f,disabled:x,children:"Update User"})})]})})}export{B as default};
