import{y as C,r as d,j as e}from"./index-m80HHom9.js";import{C as K,a as U,d as z,b as H,c as $}from"./card-BQdcvxv4.js";import{M as W}from"./Modal-DoJZ0Xvx.js";import{u as X,B as S}from"./button-ClPKnN6O.js";import{C as Y}from"./Close-DPtO1cWq.js";import{p as w,q as J,u as Q,d as k,r as Z,f as j,I as ee,g as E,P as re,s as ae,C as oe,L as g}from"./separator-CUHlGSBl.js";import{I as se}from"./input-BO2ORJHh.js";import{s as te}from"./apiEmp-BZyVWHsi.js";import{u as N,e as P}from"./Typography-NNxUExT6.js";import{u as ie}from"./index-hDMNqXYG.js";function ne(){const{mutate:a,isPending:s}=X({mutationFn:({empEmail:r,role:t})=>te(r,t),onSuccess:r=>{C.success(r?.message,{className:"toast"})},onError:r=>C.error(r.message,{className:"toast"})});return{sendInvitation:a,isSendingInvite:s}}var I="Radio",[de,_]=k(I),[le,ce]=de(I),A=d.forwardRef((a,s)=>{const{__scopeRadio:r,name:t,checked:o=!1,required:i,disabled:n,value:l="on",onCheck:m,form:f,...v}=a,[p,x]=d.useState(null),c=N(s,h=>x(h)),u=d.useRef(!1),R=p?f||!!p.closest("form"):!0;return e.jsxs(le,{scope:r,checked:o,disabled:n,children:[e.jsx(j.button,{type:"button",role:"radio","aria-checked":o,"data-state":F(o),"data-disabled":n?"":void 0,disabled:n,value:l,...v,ref:c,onClick:E(a.onClick,h=>{o||m?.(),R&&(u.current=h.isPropagationStopped(),u.current||h.stopPropagation())})}),R&&e.jsx(D,{control:p,bubbles:!u.current,name:t,value:l,checked:o,required:i,disabled:n,form:f,style:{transform:"translateX(-100%)"}})]})});A.displayName=I;var G="RadioIndicator",M=d.forwardRef((a,s)=>{const{__scopeRadio:r,forceMount:t,...o}=a,i=ce(G,r);return e.jsx(re,{present:t||i.checked,children:e.jsx(j.span,{"data-state":F(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:s})})});M.displayName=G;var ue="RadioBubbleInput",D=d.forwardRef(({__scopeRadio:a,control:s,checked:r,bubbles:t=!0,...o},i)=>{const n=d.useRef(null),l=N(n,i),m=ie(r),f=ae(s);return d.useEffect(()=>{const v=n.current;if(!v)return;const p=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(p,"checked").set;if(m!==r&&c){const u=new Event("click",{bubbles:t});c.call(v,r),v.dispatchEvent(u)}},[m,r,t]),e.jsx(j.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D.displayName=ue;function F(a){return a?"checked":"unchecked"}var pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],y="RadioGroup",[me,_e]=k(y,[w,_]),q=w(),L=_(),[fe,ve]=me(y),B=d.forwardRef((a,s)=>{const{__scopeRadioGroup:r,name:t,defaultValue:o,value:i,required:n=!1,disabled:l=!1,orientation:m,dir:f,loop:v=!0,onValueChange:p,...x}=a,c=q(r),u=J(f),[R,h]=Q({prop:i,defaultProp:o??null,onChange:p,caller:y});return e.jsx(fe,{scope:r,name:t,required:n,disabled:l,value:R,onValueChange:h,children:e.jsx(Z,{asChild:!0,...c,orientation:m,dir:u,loop:v,children:e.jsx(j.div,{role:"radiogroup","aria-required":n,"aria-orientation":m,"data-disabled":l?"":void 0,dir:u,...x,ref:s})})})});B.displayName=y;var O="RadioGroupItem",V=d.forwardRef((a,s)=>{const{__scopeRadioGroup:r,disabled:t,...o}=a,i=ve(O,r),n=i.disabled||t,l=q(r),m=L(r),f=d.useRef(null),v=N(s,f),p=i.value===o.value,x=d.useRef(!1);return d.useEffect(()=>{const c=R=>{pe.includes(R.key)&&(x.current=!0)},u=()=>x.current=!1;return document.addEventListener("keydown",c),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",u)}},[]),e.jsx(ee,{asChild:!0,...l,focusable:!n,active:p,children:e.jsx(A,{disabled:n,required:i.required,checked:p,...m,...o,name:i.name,ref:v,onCheck:()=>i.onValueChange(o.value),onKeyDown:E(c=>{c.key==="Enter"&&c.preventDefault()}),onFocus:E(o.onFocus,()=>{x.current&&f.current?.click()})})})});V.displayName=O;var xe="RadioGroupIndicator",T=d.forwardRef((a,s)=>{const{__scopeRadioGroup:r,...t}=a,o=L(r);return e.jsx(M,{...o,...t,ref:s})});T.displayName=xe;var Re=B,he=V,ge=T;function je({className:a,...s}){return e.jsx(Re,{"data-slot":"radio-group",className:P("grid gap-3",a),...s})}function b({className:a,...s}){return e.jsx(he,{"data-slot":"radio-group-item",className:P("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:e.jsx(ge,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(oe,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Ae({open:a,setOpen:s}){const[r,t]=d.useState({empEmail:"",role:"Staff"}),{sendInvitation:o,isSendingInvite:i}=ne();function n(){r.empEmail.trim()!==""&&["Admin","Manager","Staff"].includes(r.role.trim())?(o(r),s(!1),t({empEmail:"",role:"Staff"})):C.error("Enter the text first",{className:"toast"})}return e.jsx(W,{openModal:a,children:e.jsxs(K,{className:"w-md max-w-11/12",children:[e.jsxs(U,{className:"flex justify-between items-center",children:[e.jsx(z,{children:"Send Invite"}),e.jsx(S,{onClick:()=>s(!1),variant:"secondary",children:e.jsx(Y,{})})]}),e.jsxs(H,{className:"grid gap-3",children:[e.jsxs(g,{title:"New Employee's Email",className:"grid",children:[e.jsx("span",{id:"employee-email",children:"Employee's email"}),e.jsx(se,{placeholder:"Enter new employee's email",type:"email",value:r.empEmail,name:"empEmail",required:!0,className:"text-sm md:text-md",onChange:l=>t({...r,empEmail:l.target.value.trim()}),"aria-describedby":"employee-email","aria-required":"true"})]}),e.jsxs(g,{title:"New Employee's role",className:"grid",children:[e.jsx("span",{children:"Enter new employee's role"}),e.jsxs(je,{defaultValue:r.role,className:"flex",onValueChange:l=>t({...r,role:l}),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{value:"Staff",id:"r1",className:"text-ls-sec-500"}),e.jsx(g,{children:"Staff"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{value:"Manager",id:"r2",className:"text-ls-sec-500"}),e.jsx(g,{children:"Manager"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{value:"Admin",id:"r3",className:"text-ls-sec-500"}),e.jsx(g,{children:"Admin"})]})]})]})]}),e.jsx($,{className:"flex gap-2",children:e.jsx(S,{type:"button",onClick:n,className:"w-full",disabled:i||r.empEmail.trim()==""||!["Admin","Manager","Staff"].includes(r.role.trim()),children:"Send Invite"})})]})})}export{Ae as default};
