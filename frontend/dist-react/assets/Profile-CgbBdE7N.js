const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OtpModal-B1jlTu3V.js","assets/index-OmV3yq9G.js","assets/index-Do5wm2mj.css","assets/Modal-DM6aciIk.js","assets/card-DDFRYrzS.js","assets/button-9vMW9_oR.js","assets/Close-C8HdlCrP.js","assets/Profilepage-ngNGz7hp.js","assets/Navbar-Bpyp0QFV.js","assets/UserAvatar-D16AkYtt.js","assets/separator-DYVVEmrN.js","assets/skeleton-cGjqwgCH.js","assets/badge-Bg0TeHhT.js","assets/useGetOrganizations-DDc9GAcm.js","assets/apiOrg-D2Y_Y1tc.js","assets/DeleteMeModal-C13bx8ME.js","assets/input-DYqCBqzr.js","assets/label-DMqxW8Nh.js","assets/ChangePasswordModal-BmragkRI.js","assets/Authenticatepage-Db8545kt.js","assets/apiUser-C89hRQvH.js","assets/ProfilePicChangeModal-D52NMqzz.js","assets/useUpdateUser-CajX_dOD.js","assets/DeleteOrgModal-DZYFDapL.js","assets/EditOrgModal-DztSWOuQ.js","assets/index.esm-Dz2S7CxH.js","assets/Select-BpNa-hsK.js","assets/index-BMjTRGb1.js","assets/Pagination-H71kDw6O.js","assets/TransferOwnershipModal-JLpQgsjR.js","assets/UpdateUserModal-DO1onhTN.js"])))=>i.map(i=>d[i]);
import{o as F,h as T,y as c,p as Q,j as e,L as Y,c as G,u as J,r as a,_ as d}from"./index-OmV3yq9G.js";import{S as $,a as K,E as S,T as W,D as M,V as X,H as Z}from"./Profilepage-ngNGz7hp.js";import{b as ee,B as m,S as se,d as ae,L as te,M as re}from"./button-9vMW9_oR.js";import{N as le}from"./Navbar-Bpyp0QFV.js";import{U as ie}from"./UserAvatar-D16AkYtt.js";import{C as ne,a as oe,b as ce,c as de}from"./card-DDFRYrzS.js";import{T as z,a as f,b as o,c as V,d as i,S as x,e as me}from"./skeleton-cGjqwgCH.js";import{B as b}from"./badge-Bg0TeHhT.js";import{u as xe}from"./useGetOrganizations-DDc9GAcm.js";import{D as ue,a as fe,b as he,c as w,s as y}from"./separator-DYVVEmrN.js";function P(s,t){if(Q(s)){const l=s.response?.data?.message||t;console.log(s),c.error(l,{className:"toast"})}else console.log(s)}const pe=F(s=>({isVerifingEmail:!1,isDeleteingUser:!1,verifyEmail:async t=>{try{s({isVerifingEmail:!0});const l=await T.post("/v1/auth/verifyEmail",t);if(l.data.data.message.toLowerCase().includes("already"))return s({isVerifingEmail:!1}),c.success(l.data.data.message,{className:"toast"}),"already";if(l.data.data.message.toLowerCase().includes("sent"))return s({isVerifingEmail:!1}),c.success(l.data.data.message,{className:"toast"}),"sent";if(l.data.data.message.toLowerCase().includes("successfully"))return s({isVerifingEmail:!1}),c.success(l.data.data.message,{className:"toast"}),"verified"}catch(l){P(l,"Error verifing email")}finally{s({isVerifingEmail:!1})}},deleteUser:async()=>{try{s({isDeleteingUser:!0}),await T.delete("/v1/users/updateMe"),c.success("User deleted successfully",{className:"toast"})}catch(t){P(t,"Error deleting user")}finally{s({isDeleteingUser:!1})}}}));function ge(){return e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsxs(f,{children:[e.jsx(o,{children:"Organization"}),e.jsx(o,{children:"Role"}),e.jsx(o,{children:"Subscription"}),e.jsx(o,{children:"Members"}),e.jsx(o,{children:"Type"})]})}),e.jsx(V,{children:[1,2,3,4,5].map((s,t)=>e.jsxs(f,{children:[e.jsx(i,{children:e.jsx(x,{className:"h-10"})}),e.jsx(i,{children:e.jsx(x,{className:"h-10"})}),e.jsx(i,{children:e.jsx(x,{className:"h-10"})}),e.jsx(i,{children:e.jsx(x,{className:"h-10"})}),e.jsx(i,{children:e.jsx(x,{className:"h-10"})})]},t))})]})}const je=s=>{switch(s){case"Pro":return"bg-violet-600 dark:bg-violet-500 text-primary-foreground";case"Basic":return"bg-yellow-600 dark:bg-yellow-500 text-primary-foreground";case"None":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}};function be(s){switch(s){case"Owner":return"text-black bg-yellow-400 dark:text-black dark:bg-yellow-400";case"Admin":return"text-black bg-violet-400 dark:text-black dark:bg-violet-400";case"Manager":return"text-black bg-green-400 dark:text-black dark:bg-green-400";case"Staff":return"text-white bg-zinc-800 dark:text-black dark:bg-zinc-200";default:return"text-black bg-zinc-300 outline-1 dark:text-white dark:bg-zinc-800 "}}function we({setDeleteOpen:s,setEditOpen:t,setOpenTransfer:l}){const{data:h,isPending:r}=xe();return e.jsxs(ne,{className:"bg-white dark:bg-ls-bg-dark-800 h-96 w-full",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Organizations"]})}),e.jsx(de,{className:"overflow-x-auto h-full",children:e.jsx(me,{children:r?e.jsx(ge,{}):h?e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsxs(f,{children:[e.jsx(o,{children:"Organization"}),e.jsx(o,{children:"Role"}),e.jsx(o,{children:"Subscription"}),e.jsx(o,{children:"Members"}),e.jsx(o,{children:"Type"})]})}),e.jsx(V,{className:"max-h-96 overflow-y-scroll",children:h.map(n=>e.jsxs(f,{className:"hover:bg-muted/50",children:[e.jsx(i,{className:"font-medium",children:n.name}),e.jsx(i,{children:e.jsx(b,{variant:"outline",className:G("font-medium",be("Owner")),children:n.role})}),e.jsx(i,{children:e.jsx(b,{className:je(n.subscription),children:n.subscription})}),e.jsxs(i,{className:"text-muted-foreground",children:[n?.totalEmployees??1," members"]}),e.jsx(i,{children:e.jsx(b,{variant:"outline",children:n.type})}),n.role.toLowerCase()==="owner"&&e.jsx(i,{className:"w-[5px]",children:e.jsxs(ue,{children:[e.jsx(fe,{children:e.jsx(K,{className:"w-5 h-5 outline rounded-sm cursor-pointer outline-offset-2"})}),e.jsxs(he,{className:"font-semibold bg-ls-bg-100 dark:bg-ls-bg-dark-800",children:[e.jsxs(w,{className:"cursor-pointer",onClick:()=>t(!0),children:[e.jsx(S,{}),"EDIT"]}),e.jsx(y,{}),e.jsxs(w,{className:"cursor-pointer",onClick:()=>l(!0),children:[e.jsx(W,{}),"TRANSFER"]}),e.jsx(y,{}),e.jsxs(w,{className:"cursor-pointer",onClick:()=>s(!0),children:[e.jsx(M,{className:"text-red-500"}),e.jsx(se,{className:"text-red-500",children:"DELETE"})]}),e.jsx(y,{})]})]})})]},n._id))})]}):e.jsxs("div",{className:"h-full w-full grid place-items-center gap-3",children:[e.jsx(ee,{children:"You are not in any organizations."}),e.jsx(m,{asChild:!0,children:e.jsx(Y,{to:"/dashboard",children:"Create/Join a Organization"})})]})})})]})}const ye=a.lazy(()=>d(()=>import("./OtpModal-B1jlTu3V.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),Ne=a.lazy(()=>d(()=>import("./DeleteMeModal-C13bx8ME.js"),__vite__mapDeps([15,1,2,3,4,5,6,16,17,10,7,8,9,11,12,13,14]))),ve=a.lazy(()=>d(()=>import("./ChangePasswordModal-BmragkRI.js"),__vite__mapDeps([18,1,2,3,5,4,6,17,10,16,19,20,8,9]))),_e=a.lazy(()=>d(()=>import("./ProfilePicChangeModal-D52NMqzz.js"),__vite__mapDeps([21,1,2,6,3,5,4,9,16,7,22,20]))),Ee=a.lazy(()=>d(()=>import("./DeleteOrgModal-DZYFDapL.js"),__vite__mapDeps([23,1,2,3,4,5,6,16,17,10,14]))),Oe=a.lazy(()=>d(()=>import("./EditOrgModal-DztSWOuQ.js"),__vite__mapDeps([24,1,2,3,4,5,6,25,17,10,16,26,27,28,14]))),ke=a.lazy(()=>d(()=>import("./TransferOwnershipModal-JLpQgsjR.js"),__vite__mapDeps([29,1,2,3,4,5,6,25,17,10,14,16]))),Ce=a.lazy(()=>d(()=>import("./UpdateUserModal-DO1onhTN.js"),__vite__mapDeps([30,1,2,3,5,4,6,17,10,16,22,20])));function De(){const{verifyEmail:s,isVerifingEmail:t}=pe(),r=J().getQueryData(["user"])?.user,[n,N]=a.useState(!1),[L,v]=a.useState(!1),[p,g]=a.useState(!1),[U,_]=a.useState(!1),[A,E]=a.useState(!1),[R,O]=a.useState(!1),[I,k]=a.useState(!1),[H,C]=a.useState(!1),[B,j]=a.useState(""),[q,D]=a.useState(r?.avatar||"");return a.useEffect(()=>{let u;return!r?.isVerified&&!p&&!t&&(u=c.warning(e.jsxs("div",{className:"grid h-auto",children:["Your Email is not verified",e.jsx(m,{variant:"default",disabled:t,onClick:async()=>{await s({})=="sent"&&(g(!0),j("")),c.dismiss(u)},children:"Click to Verify"})]}),{className:"toast"})),()=>c.dismiss(u)},[t,r?.isVerified,s,p]),e.jsxs("div",{className:"w-full px-4 h-auto min-h-screen flex flex-col gap-2 items-center relative bg-ls-bg-200 dark:bg-ls-bg-dark-900 pb-10",children:[e.jsx(le,{}),e.jsxs("div",{className:"max-w-6xl p-4 w-full grid place-items-center md:flex gap-4 rounded-2xl shadow-2xl bg-white dark:bg-ls-bg-dark-800",children:[e.jsxs("div",{className:"w-40 h-40 grid place-items-center relative",children:[e.jsx(ie,{customSeed:r?.avatar||r?.email,className:"w-40 h-40 ring-4 ring-offset-2 ring-ls-sec-500"}),e.jsx(m,{size:"sm",className:"absolute right-2 bottom-2 rounded-full",onClick:()=>{N(!0),D(r?.avatar||r?.email)},children:e.jsx(S,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex gap-2 flex-row justify-center md:justify-start items-center text-ls-ter-800 dark:text-ls-ter-500",children:[e.jsx(ae,{className:"pb-0",children:r?.name}),r?.isVerified?e.jsx(X,{}):e.jsx(m,{variant:"ghost",disabled:t,title:"verify your email",className:"grid place-items-center p-0",onClick:async()=>{await s({})=="sent"&&(g(!0),j(""))},children:e.jsx(Z,{className:"h-full w-full"})})]}),e.jsx(te,{className:"text-center md:text-start text-ls-sec-800 dark:text-ls-sec-400",children:r?.email})]}),e.jsxs(re,{className:"text-sm text-center md:text-start",children:["Member since :"," ",new Date(r?.createdAt??"").toLocaleDateString()]})]})]}),e.jsxs("main",{className:"max-w-6xl w-full flex flex-col-reverse md:flex-row gap-2 ",children:[e.jsx(we,{setDeleteOpen:O,setEditOpen:k,setOpenTransfer:C}),e.jsxs("div",{className:"md:min-h-96 gap-2 grid  md:flex md:flex-col",children:[e.jsx(m,{onClick:()=>v(!0),variant:"secondary",children:"Update User"}),e.jsx(m,{onClick:()=>_(!0),variant:"secondary",children:"Change Password"}),e.jsxs(m,{variant:"destructive",onClick:()=>E(!0),children:[e.jsx(M,{className:"h-full aspect-square"}),"Delete Me"]})]})]}),e.jsx(_e,{open:n,setOpen:N,modalPic:q,setModalPic:D}),e.jsx(ye,{open:p,setOpen:g,otp:B,setOtp:j}),e.jsx(ve,{open:U,setOpen:_}),e.jsx(Oe,{setOpen:k,open:I}),e.jsx(ke,{open:H,setOpen:C}),e.jsx(Ne,{open:A,setOpen:E}),e.jsx(Ee,{open:R,setOpen:O,orgId:r?.myOrg?._id}),e.jsx(Ce,{open:L,setOpen:v})]})}const He=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"}));export{He as P,pe as u};
