import{r as x,u as f,y as r,j as e}from"./index-M_t2dwz2.js";import{M as p}from"./Modal-Crn6lQ0e.js";import{C as g,a as h,b as y,c as j,d as C}from"./card-kPvTOTaO.js";import{u as N,B as n}from"./button-DC7jl_rC.js";import{C as v}from"./Close-CcNr5Ub_.js";import{I as M}from"./input-CsKVG5ey.js";import{L as b}from"./label-Ck7i0l0-.js";import{d as z}from"./apiOrg-DcexOA6k.js";import"./dropdown-menu-BmGO1OqQ.js";function L({open:l,setOpen:t,orgId:i}){const[a,o]=x.useState(""),c=f(),{mutate:d,isPending:m}=N({mutationFn:z,onSuccess:()=>{c.invalidateQueries({queryKey:["user"]}),r.success("Organization deleted successfully",{className:"toast"})},onError:s=>{r.error(s.message,{className:"toast"})}});async function u(){a.trim()=="delete my organization"&&i?(d(i),t(!1)):r.error("Enter the text first",{className:"toast"})}return e.jsx(p,{openModal:l,children:e.jsxs(g,{children:[e.jsxs(h,{className:"flex justify-between items-center",children:[e.jsx(y,{children:"Delete My Organization"}),e.jsx(n,{onClick:()=>t(!1),variant:"secondary",children:e.jsx(v,{})})]}),e.jsx(j,{className:"grid gap-2",children:e.jsxs(b,{title:"delete my account",htmlFor:"deleteme",className:"grid",children:[e.jsxs("span",{children:['Enter "',e.jsx("span",{className:"text-red-500",children:"delete my organization"}),'" in the input below to delete account']}),e.jsx(M,{placeholder:"Enter Text",type:"text",value:a,name:"org text",required:!0,className:"text-sm md:text-md",onChange:s=>o(s.target.value)})]})}),e.jsxs(C,{className:"flex gap-2 w-full",children:[e.jsx(n,{onClick:()=>t(!1),variant:"secondary",children:"Cancel"}),e.jsx(n,{type:"button",onClick:u,disabled:m||a.trim()!=="delete my organization",variant:"destructive",children:"Delete My Organization"})]})]})})}export{L as default};
