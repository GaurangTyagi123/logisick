import{u as x,j as e,y as p}from"./index-M_t2dwz2.js";import{C}from"./Close-CcNr5Ub_.js";import{M as g}from"./Modal-Crn6lQ0e.js";import{B as r}from"./button-DC7jl_rC.js";import{C as j,a as N,b as y,c as b,d as v}from"./card-kPvTOTaO.js";import{U}from"./UserAvatar-BeKrMOcN.js";import{I as w}from"./input-CsKVG5ey.js";import{b as M}from"./Profilepage-8OXMzUxA.js";import{u as D}from"./useUpdateUser-fPlf_s4U.js";import"./apiUser-BqmGsr44.js";function T({open:i,setModalPic:t,modalPic:a,setOpen:n}){const c=x().getQueryData(["user"])?.user,{updateUserFn:m,isPending:d}=D();function u(s){const h="abcdefghijklmnopqrstuvwxyzBCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let o="";for(let l=0;l<s;l++)o+=h[Math.floor(Math.random()*62)];t(o)}function f(){a.length>0&&a!==c?.avatar?(m({avatar:a}),n(!1)):p.error("Changed avatar can't be same or empty",{className:"toast"})}return e.jsx(g,{openModal:i,children:e.jsxs(j,{className:"min-w-md",children:[e.jsxs(N,{className:"flex justify-between items-center",children:[e.jsx(y,{children:"Change Profile Picture"}),e.jsx(r,{onClick:()=>n(!1),variant:"secondary",children:e.jsx(C,{})})]}),e.jsxs(b,{className:"flex flex-col gap-2 items-center",children:[e.jsx(U,{customSeed:a,className:"w-40 h-40"}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx(w,{type:"text",autoFocus:!0,value:a,className:"text-lg font-semibold text-center bg-accent",onChange:s=>t(s.target.value.trim())}),e.jsx(r,{className:"h-9 w-9 grid place-items-center",title:"generate random",onClick:()=>u(Math.floor(Math.random()*11)+1),children:e.jsx(M,{className:"h-9 w-9"})})]})]}),e.jsx(v,{children:e.jsx(r,{className:"front-semibold w-full",onClick:f,disabled:d,children:"Seems Good!"})})]})})}export{T as default};
